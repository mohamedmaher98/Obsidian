# Spring Web & API --- ملخص كامل (تكملة بعد الملف السابق)

## 1) يعني إيه API ؟

API = طريقة تواصل بين سيستم وسيستم تاني.

### مثال بسيط:

-   الموبايل يطلب بيانات
-   السيرفر يرد JSON

زي الجرسون في المطعم: - العميل يطلب - الجرسون يوصل الطلب للمطبخ - يرجع
بالأكل

الجرسون = API

------------------------------------------------------------------------

## 2) يعني إيه Server ؟

Server = جهاز عليه برنامج شغال بيستقبل Requests ويرد عليها.

### في Spring Boot:

لما تشغل التطبيق: Tomcat embedded يشتغل على بورت 8080

لو قفلت التطبيق → مفيش Server.

------------------------------------------------------------------------

## 3) Local Server vs Production Server

### Local

-   شغال على جهازك
-   العنوان: localhost:8080

### Production

-   شغال على جهاز على الإنترنت
-   أي حد يقدر يوصله

------------------------------------------------------------------------

## 4) REST API

REST بيعتمد على: - HTTP - JSON - GET / POST / PUT / DELETE

مثال:

GET /users

يرجع JSON.

هو الأكثر استخدامًا في الويب والموبايل.

------------------------------------------------------------------------

## 5) أنواع APIs التانية

### SOAP

-   XML
-   تقيل ومعقد
-   أنظمة قديمة

### GraphQL

-   تطلب البيانات اللي انت عايزها بس
-   مناسب للـ Frontend المعقد

### gRPC

-   سريع جدًا
-   مناسب للـ Microservices

------------------------------------------------------------------------

## 6) ال Flow الكامل للطلب

Client ↓ Tomcat (Server) ↓ DispatcherServlet ↓ Controller ↓ Service ↓
Repository ↓ Database

وبعدين الرد يرجع بنفس الترتيب.

------------------------------------------------------------------------

## 7) يعني إيه Controller ؟

Controller = الطبقة اللي بتستقبل HTTP request

مثال:

@RestController @GetMapping("/users")

هو الباب بتاع التطبيق.

------------------------------------------------------------------------

## 8) يعني إيه Service ؟

Service = الطبقة اللي فيها Business Logic

هو عقل التطبيق.

فيه الحسابات والقواعد والشروط.

------------------------------------------------------------------------

## 9) يعني إيه Repository ؟

Repository = الطبقة اللي بتكلم Database

مش المفروض يبقى فيها Business Logic.

------------------------------------------------------------------------

## 10) يعني إيه ObjectMapper ؟

كلاس من مكتبة Jackson.

وظيفته: - يحول Java Object → JSON - يحول JSON → Java Object

Spring Boot بيعمله Bean تلقائيًا.

نستخدم @Bean لما: - نعدل الإعدادات - أو نستخدمه بإيدينا في Service

------------------------------------------------------------------------

## 11) الفرق بين Server و Service

Server = البرنامج اللي بيستقبل الطلبات (Tomcat) Service = كلاس Java فيه
Business Logic

------------------------------------------------------------------------

## 12) Layers Architecture

Controller → Service → Repository

فصل الطبقات بيخلي: - الكود أنضف - أسهل اختبار - أسهل تطوير

------------------------------------------------------------------------

## 13) ليه منكتبش كل حاجة في Controller؟

ينفع... بس تصميم وحش.

لأن: - Controller مسؤول عن HTTP بس - Service مسؤول عن منطق الشغل

الفصل ده اسمه Separation of Concerns.

------------------------------------------------------------------------

## 14) أهم المفاهيم اللي غطيناها

-   IoC
-   Dependency Injection
-   Spring Container
-   Beans
-   @Component / @Service / @Repository / @RestController
-   ApplicationContext
-   Embedded Tomcat
-   REST API
-   Server vs Service
-   ObjectMapper
-   Layered Architecture

------------------------------------------------------------------------

# الخلاصة الكبيرة

Spring Boot Application = برنامج شغال على جهاز فيه Tomcat بيستقبل
Requests يوجهها للـ Controller اللي ينادي Service اللي ينادي Repository
اللي يكلم Database وبعدين يرجع JSON للعميل.

انت دلوقتي فاهم الصورة الكاملة من أول الطلب لحد الرد.
