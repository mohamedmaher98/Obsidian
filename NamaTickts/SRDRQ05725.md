عند عمل سند اخلاء طرف بناء على يظهر لا يمكن تنفيذ العملية   
ولا يتم نسخ بيانات الموظف من بناء على

وصف المشكلة 
ان لما بختار بناء علي في حقل اسمه returnDate مش متعرف في الكلاسات الي موجوده في بناء علي 


الحل رقم واحد  :
1- جبت نوع الentity type الي محوط في from doc ب  بس عن طريق ميثود مخصوصة لده
String entityType = actionContext.getFilteredTypeForSearcherContext();

2- جبت الكلاس من ال entityType ده
Class <علامة استفهام> fromDocCLass = DTOClassCalculator.getDTOClassFor(entityType);

3- عرفت حقل boolean 
boolean classHasReturnDate =  
       DTOAbstractVacationDocument.class.isAssignableFrom(fromDocCLass) || DTOAbstractAggregateVacation.class.isAssignableFrom(fromDocCLass)  
             || ObjectChecker.areEqual(entityType, HREntities.MultiEmpVacation);
هنا بقوله لو الكلاس ده DTOAbstractVacationDocument  او اي حد بيورث منه او DTOAbstractAggregateVacation او اي حد بيورث منه 

لو صح رجع null  
لو مش صح رجع الكارتيريا عادي 
return DTOCriteriaBuilder.create().field(IdsOfEvacuationPartyDocument.returnDate)  
       .greaterThanOrEqual(FieldTypesUtils.toString(FieldType.Date, valuDate)).build();

---
الحل رقم 2 :
في  موديول HR 
في كلاس اسمه public HRGenericRefTypesProvider()
put(HREntityTypes.EvacuationPartyDocument(), CommonFieldIds.FROMDOC, HREntityTypes.VacationRequest(), HREntityTypes.EvacuationPartyDocument(),  
       HREntityTypes.VacationCompensation(), HREntityTypes.VacationDocument(), HREntityTypes.MultiEmpVacation(),  
       HREntityTypes.AggregatedVacationDocument(), 
       HREntityTypes.AggregatedVacationRequest());
   ضيف دي عشان تخلي الكلاسات دي بس الي تظهر في بناء علي بس 



---
عشان احيب حاجه من ال term config 
boolean useHeaderCurrencyInsteadOfAccountCurrencyInLines = ObjectChecker.isTrue_b(  
       ActionContextUtils.getTermCachedField(actionContext, IdsOfRVPVTermConfig.useHeaderCurrencyInsteadOfAccountCurrencyInLines));